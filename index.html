<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>脱出ゲーム ヒント一覧</title>

	<!-- 古風なセリフ体を読み込み（表示環境に依存します） -->
	<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Noto+Serif+JP:wght@300;400;700&display=swap" rel="stylesheet">

	<style>
	/* --- 魔法学校（古びた羊皮紙）風スタイル --- */

		:root{
			--bg-paper-1: #fbf5ea; /* 羊皮紙ベース */
			--bg-paper-2: #f3e8d0; /* グラデ用 */
			--ink: #2b2318;       /* 文字色（インク）*/
			--muted: #7b5f42;     /* 装飾色（茶系）*/
			--accent: #5b3a7a;    /* 魔法っぽいアクセント（紫）*/
			--panel: rgba(42,34,25,0.06);
		}

		html, body { height: 100%; }
		body {
			font-family: "Noto Serif JP", "Cormorant Garamond", Georgia, serif;
			padding: 1rem;
			margin: 0;
			background:
				radial-gradient(circle at 10% 20%, rgba(90,60,30,0.03), transparent 10%),
				radial-gradient(circle at 90% 80%, rgba(80,50,20,0.02), transparent 10%),
				linear-gradient(180deg, var(--bg-paper-1) 0%, var(--bg-paper-2) 60%);
			color: var(--ink);
			-webkit-font-smoothing:antialiased;
			-moz-osx-font-smoothing:grayscale;
			/* 薄い紙の質感（小さなノイズ） */
			background-image: 
				linear-gradient(180deg, rgba(0,0,0,0.01) 0.5px, transparent 0.5px),
				linear-gradient(90deg, rgba(0,0,0,0.01) 0.5px, transparent 0.5px),
				linear-gradient(180deg, var(--bg-paper-1) 0%, var(--bg-paper-2) 60%);
			background-size: 100% 100%, 100% 100%, 100% 100%;
  			background-repeat: no-repeat;
  			/* optional: スクロールしても背景を固定したいなら */
  			background-attachment: fixed;
		}

		h1 { 
			text-align: center;
			margin-bottom: -0.6rem;
			font-size: clamp(1.1rem, 6vw, 2.4rem);
			letter-spacing: 0.04em;
			font-family: "Cormorant Garamond", Georgia, serif;
			color: var(--accent);
			text-shadow: 0 1px 0 rgba(255,255,255,0.6);
		}
		h2 { 
			text-align: center;
			margin-bottom: 1rem;
			font-size: clamp(0.8rem, 4.5vw, 1.4rem);
			letter-spacing: 0.02em;
			color: var(--muted);
			font-weight: 600;
		}
		.explain {
			margin-top: 0.5rem;
			margin-bottom: -0.5rem;
			font-size: clamp(0.65rem,2vw,1rem);
			color: rgba(43,34,24,0.9);
			text-align: center;
			line-height: 1.4;
		}

		.container {
			min-height: 100vh;
			padding: 24px;
			max-width: 640px;
			margin: 0 auto;
		}

		/* details パネル（羊皮紙のメモ帳風）*/
		.details {
			background: linear-gradient(180deg, rgba(255,250,243,0.9), rgba(250,240,224,0.95));
			border: 1px solid rgba(90,70,50,0.12);
			border-radius: 10px;
			overflow: hidden;
			box-shadow: 0 6px 18px rgba(44,34,22,0.06), inset 0 1px 0 rgba(255,255,255,0.6);
			margin-top: 0.75rem;
			margin-bottom: 0.75rem;
			position: relative;
		}

		/* summary 見出し（古いラベル風） */
		.summary {
			display: block;
			cursor: pointer;
			font-weight: 700;
			padding: 16px 20px;
			background-color: transparent;
			color: var(--ink);
			position: relative;
			transition: background-color 0.24s;
			font-family: "Cormorant Garamond", Georgia, serif;
			font-size: 1rem;
  			padding-left: 2.4em; /* テキストサイズに対する距離を指定 */
			letter-spacing: 0.01em;
		}


		/* 右側の矢印マーク（見た目は星に近い） */
		.summary::after { 
			content: '✦';
			position: absolute;
			right: 18px;
			top: 50%;
			transform: translateY(-50%);
			transition: transform 0.28s, color 0.28s;
			color: var(--muted);
			font-size: 0.95rem;
			opacity: 0.95;
		}

		/* open 状態の summary 背景変化 */
		.details[open] .summary {
			background-color: rgba(91,58,122,0.04);
		}
		.details[open] .summary::after {
			transform: translateY(-50%) rotate(180deg);
			color: var(--accent);
		}

		/* answer（展開部分） */
		.answer {
			overflow: hidden;
			opacity: 0;
			transition: max-height 0.28s ease-in-out, opacity 0.28s ease-in-out;
			/* max-height を JS の高さ制御と併用する想定（JSは変更しないので safe） */
		}
		.details[open] .answer { opacity: 1; }

		.answerInner {
			padding: 16px 22px;
			background-color: rgba(20,18,16,0.02);
			color: #3b3026;
			line-height: 1.7;
			border-top: 1px dashed rgba(90,70,50,0.06);
			font-size: 0.98rem;
		}

		/* ネスト時の見た目は少しコンパクトに */
		.details .details {
			background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(250,245,235,0.95));
			border-radius: 8px;
			margin: 0.6rem 0 0 0.6rem;
			border: 1px solid rgba(90,70,50,0.06);
		}
		.details .details .summary {
			padding: 12px 16px;
			font-size: 0.95rem;
			font-weight: 600;
		}
		.details .details .answerInner {
			padding: 12px 16px;
			font-size: 0.95rem;
		}

		/* モバイル調整 */
		@media (max-width: 480px) {
			.summary, .answerInner { padding: 12px 16px; }
			.summary::before { left: 10px; height: 22px; }
			.summary::after { right: 14px; }
		}
	</style>
</head>

<body>
	<h1>コスモシアからの脱出</h1>
	<h2>Escape from Cosmosia</h2>
    <h2 class="explain">
        これはコスモシアからの脱出のヒントページです<br>
        チーム内全体でヒントを見ることを決めてから見てください
    </h2>
	<div class="container">
		<details class="details">
			<summary class="summary">居住モジュールへの入り方</summary>
			<div class="answer">
				<div class="answerInner">Q1からQ4を解き、データベースからキーを入手する
					<details class="details">
						<summary class="summary">Q1のヒント</summary>
						<div class="answer">
							<div class="answerInner">線を記号同士でつなげ</div>
						</div>
					</details>
					<details class="details">
						<summary class="summary">Q2のヒント</summary>
						<div class="answer">
							<div class="answerInner">展開図を組み立てろ</div>
						</div>
					</details>
					<details class="details">
						<summary class="summary">Q3のヒント</summary>
						<div class="answer">
							<div class="answerInner">50音表を考えろ</div>
						</div>
					</details>
					<details class="details">
						<summary class="summary">Q4のヒント</summary>
						<div class="answer">
							<div class="answerInner">イラストを文字に直せ</div>
						</div>
					</details>
					<details class="details">
						<summary class="summary">キー入手</summary>
						<div class="answer">
							<div class="answerInner">頭とは、頭文字のこと
								<details class="details">
									<summary class="summary">追加ヒント</summary>
									<div class="answer">
										<div class="answerInner">頭文字をデータベースから探し、その中の文字がキー</div>
									</div>
								</details>
							</div>
						</div>
					</details>
                </details>
					<details class="details">
						<summary class="summary">居住モジュールの謎</summary>
						<div class="answer">
							<div class="answerInner">日誌を読み、指示に従い、暗号化されたファイルを解読して情報を得る
								<details class="details">
									<summary class="summary">◇のヒント</summary>
									<div class="answer">
										<div class="answerInner">イラストを文字に直して当てはめろ</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">〇のヒント</summary>
									<div class="answer">
										<div class="answerInner">猫は英語でCAT
											<details class="details">
												<summary class="summary">追加ヒント</summary>
												<div class="answer">
													<div class="answerInner">3番目のアルファベットはC</div>
												</div>
											</details>
										</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">△のヒント</summary>
									<div class="answer">
										<div class="answerInner">スマホの日本語入力</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">×のヒント</summary>
									<div class="answer">
										<div class="answerInner">四角の状態は、矢印によって対比を表されている
											<details class="details">
												<summary class="summary">追加ヒント</summary>
												<div class="answer">
													<div class="answerInner">見えないものを見るには、表面だけでなく裏面も重要</div>
												</div>
											</details>
										</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">メモのヒント</summary>
									<div class="answer">
										<div class="answerInner">足し算の繰り上げは1しかありえない
											<details class="details">
												<summary class="summary">追加ヒント</summary>
												<div class="answer">
													<div class="answerInner">bを足しても変わらないならbは？</div>
												</div>
											</details>
										</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">電源のヒント</summary>
									<div class="answer">
										<div class="answerInner">日誌の裏にあるのが配線
											<details class="details">
												<summary class="summary">追加ヒント</summary>
												<div class="answer">
													<div class="answerInner">正しい色は、ラッキーカラー</div>
												</div>
											</details>
										</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">解読のヒント</summary>
									<div class="answer">
										<div class="answerInner">◇と〇を合わせて、穴に入った文字を読め</div>
									</div>
								</details>
							</div>
						</div>
					</details>
					<details class="details">
						<summary class="summary">実験モジュールへの入り方</summary>
						<div class="answer">
							<div class="answerInner">Q5からQ8を解き、データベースからキーを入手する
								<details class="details">
									<summary class="summary">Q5のヒント</summary>
									<div class="answer">
										<div class="answerInner">1年は12か月
											<details class="details">
												<summary class="summary">追加ヒント</summary>
												<div class="answer">
													<div class="answerInner">3月は英語でmarch</div>
												</div>
											</details>
										</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">Q6のヒント</summary>
									<div class="answer">
										<div class="answerInner">1つめのイラストはしょうじ</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">Q7のヒント</summary>
									<div class="answer">
										<div class="answerInner">「こ」に上の矢印で「け」になる
											<details class="details">
												<summary class="summary">追加ヒント</summary>
												<div class="answer">
													<div class="answerInner">3月は英語でmarch</div>
												</div>
											</details>
										</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">Q8のヒント</summary>
									<div class="answer">
										<div class="answerInner">ローマ字と記号から考えろ</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">キー入手のヒント</summary>
									<div class="answer">
										<div class="answerInner">頭は同じ、その文字を繋げたとき、繋げた線を通る文字は</div>
									</div>
								</details>
							</div>
						</div>
					</details>
					<details class="details">
						<summary class="summary">実験モジュールの謎</summary>
						<div class="answer">
							<div class="answerInner">RNA配列を解き、ウイルスとワクチンのサンプルを得る
								<details class="details">
									<summary class="summary">解読のヒント</summary>
									<div class="answer">
										<div class="answerInner">暗いところで星は見れる</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">翻訳のヒント</summary>
									<div class="answer">
										<div class="answerInner">周りに初めからヒントはある</div>
									</div>
								</details>
							</div>
						</div>
					</details>
                    <details class="details">
						<summary class="summary">コックピットへの入り方</summary>
						<div class="answer">
							<div class="answerInner">コックピットのコードを入手する
								<details class="details">
									<summary class="summary">手がかりへのヒント</summary>
									<div class="answer">
										<div class="answerInner">コックピットにも裏面はある</div>
									</div>
								</details>
								<details class="details">
									<summary class="summary">秘密のキーのヒント</summary>
									<div class="answer">
										<div class="answerInner">
                                            RNA配列はQ1からQ8の模様に隠されている
											<details class="details">
												<summary class="summary">追加ヒント</summary>
												<div class="answer">
													<div class="answerInner">色からRNA配列に変換できる</div>
												</div>
											</details>
										</div>
									</div>
								</details>
                                <details class="details">
									<summary class="summary">ポリオミノ4のヒント</summary>
									<div class="answer">
										<div class="answerInner">
                                            1度解いて、もう一度指示通りに解く
                                            <details class="details">
												<summary class="summary">追加ヒント</summary>
												<div class="answer">
													<div class="answerInner">赤のミノをポリオミノ1に</div>
												</div>
											</details>
                                        </div>
									</div>
								</details>
							</div>
						</div>
					</details>
				</div>
				<script>
                    document.addEventListener("DOMContentLoaded", () => {
                      document.querySelectorAll(".details").forEach(el => {
                        const summary = el.querySelector(".summary");
                        const answer = el.querySelector(".answer");
                
                        summary.addEventListener("click", event => {
                          event.stopPropagation();
                          event.preventDefault();
                
                          const isOpen = el.hasAttribute("open");
                
                          if (isOpen) {
                            // 閉じる処理
                            const currentHeight = answer.scrollHeight;
                            answer.style.height = currentHeight + "px";
                            requestAnimationFrame(() => {
                              answer.style.transition = "height 0.3s ease, opacity 0.3s ease";
                              answer.style.height = "0px";
                              answer.style.opacity = "0";
                            });
                
                            answer.addEventListener("transitionend", () => {
                              // 親のopen属性を削除
                              el.removeAttribute("open");
                              // 子のdetailsも全て閉じる
                              el.querySelectorAll(".details[open]").forEach(child => {
                                child.removeAttribute("open");
                              });
                              // スタイルリセット
                              answer.style.removeProperty("height");
                              answer.style.removeProperty("transition");
                              answer.style.removeProperty("opacity");
                            }, { once: true });
                
                          } else {
                            // 開く処理
                            el.setAttribute("open", "true");
                            answer.style.height = "0px";
                            answer.style.opacity = "0";
                            requestAnimationFrame(() => {
                              const targetHeight = answer.scrollHeight;
                              answer.style.transition = "height 0.3s ease, opacity 0.3s ease";
                              answer.style.height = targetHeight + "px";
                              answer.style.opacity = "1";
                            });
                
                            answer.addEventListener("transitionend", () => {
                              // 高さをautoに戻して柔軟に
                              answer.style.removeProperty("height");
                              answer.style.removeProperty("transition");
                            }, { once: true });
                          }
                        });
                      });
                    });
                  </script>
			</div>
		</details>
	</div>
</body>

</html>
